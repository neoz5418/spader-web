"use strict";(self.webpackChunk_docsearch_website=self.webpackChunk_docsearch_website||[]).push([[9668],{5680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>g});var a=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=s(n),y=o,g=d["".concat(l,".").concat(y)]||d[y]||u[y]||r;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=y;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[d]="string"==typeof e?e:o,i[1]=p;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},8635:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>s});var a=n(8168),o=(n(6540),n(5680));const r={title:"Dropdown Behavior",sidebar_label:"Behavior"},i=void 0,p={unversionedId:"behavior",id:"version-legacy/behavior",title:"Dropdown Behavior",description:"The following references to Autocomplete.js are outdated. If you would like to try the latest version, please visit the Autocomplete documentation",source:"@site/versioned_docs/version-legacy/behavior.md",sourceDirName:".",slug:"/behavior",permalink:"/docs/legacy/behavior",draft:!1,editUrl:"https://github.com/spader-ai/spader-web/edit/main/packages/website/versioned_docs/version-legacy/behavior.md",tags:[],version:"legacy",lastUpdatedBy:"liuf",lastUpdatedAt:1728739082,formattedLastUpdatedAt:"Oct 12, 2024",frontMatter:{title:"Dropdown Behavior",sidebar_label:"Behavior"},sidebar:"version-legacy/docs",previous:{title:"Styling DocSearch",permalink:"/docs/legacy/styling"},next:{title:"Required configuration",permalink:"/docs/legacy/required-configuration"}},l={},s=[{value:"<code>appId</code>",id:"appid",level:2},{value:"<code>handleSelected</code>",id:"handleselected",level:2},{value:"<code>queryHook</code>",id:"queryhook",level:2},{value:"<code>transformData</code>",id:"transformdata",level:2},{value:"<code>autocompleteOptions</code>",id:"autocompleteoptions",level:2},{value:"<code>spaderOptions</code>",id:"spaderoptions",level:2}],c={toc:s},d="wrapper";function u(e){let{components:t,...n}=e;return(0,o.yg)(d,(0,a.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("admonition",{type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"The following references to ",(0,o.yg)("strong",{parentName:"p"},(0,o.yg)("a",{parentName:"strong",href:"https://github.com/spader/autocomplete/tree/master"},"Autocomplete.js"))," are outdated. If you would like to try the latest version, please visit the ",(0,o.yg)("strong",{parentName:"p"},(0,o.yg)("a",{parentName:"strong",href:"https://www.spader.com/doc/ui-libraries/autocomplete/introduction/what-is-autocomplete/"},"Autocomplete documentation")))),(0,o.yg)("p",null,"Our JavaScript library ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/spader/docsearch.js"},"DocSearch.js")," is a wrapper of the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/spader/autocomplete/tree/master"},"Spader autocomplete.js")," library. This library listens to every keystrokes typed in the search input, queries Spader, and displays the results in a dropdown. Everything is already configured for you to work with DocSearch. Our UI library also exposes configuration options you can use to go even further. You will discover Spader out of the box for documentation. Let's start the ",(0,o.yg)("strong",{parentName:"p"},"learn as you type")," experience."),(0,o.yg)("h2",{id:"appid"},(0,o.yg)("inlineCode",{parentName:"h2"},"appId")),(0,o.yg)("p",null,"It defines your own application ID using the ",(0,o.yg)("inlineCode",{parentName:"p"},"appId")," key."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"docsearch({\n  appId: '<YOUR_APP_ID>',\n  [\u2026],\n});\n")),(0,o.yg)("h2",{id:"handleselected"},(0,o.yg)("inlineCode",{parentName:"h2"},"handleSelected")),(0,o.yg)("p",null,"This method is called when a suggestion is selected (either from a click or a keystroke). By default, DocSearch displays anchor links to the results page. You can override results (also called hits) to add your own behavior. Note that you can already open a new tab thanks to the ",(0,o.yg)("inlineCode",{parentName:"p"},"CMD/CTRL + Click")," action."),(0,o.yg)("p",null,"The method is called with the following arguments:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"input"),": a reference to the search ",(0,o.yg)("inlineCode",{parentName:"p"},"input")," element. It comes with the ",(0,o.yg)("inlineCode",{parentName:"p"},".open()"),", ",(0,o.yg)("inlineCode",{parentName:"p"},".close()"),", ",(0,o.yg)("inlineCode",{parentName:"p"},".getVal()")," and ",(0,o.yg)("inlineCode",{parentName:"p"},".setVal()")," methods.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"event"),": the actual event triggering the selection.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"suggestion"),": the object representing the current selection. It contains a ",(0,o.yg)("inlineCode",{parentName:"p"},".url")," key representing the destination.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"datasetNumber"),": this should always be equal to ",(0,o.yg)("inlineCode",{parentName:"p"},"1")," as DocSearch is searching into one dataset at a time. You can ignore this attribute.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"context"),": additional information about the selection. Contains a ",(0,o.yg)("inlineCode",{parentName:"p"},".selectionMethod")," key that can be either ",(0,o.yg)("inlineCode",{parentName:"p"},"click"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"enterKey"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"tabKey")," or ",(0,o.yg)("inlineCode",{parentName:"p"},"blur"),", depending how the suggestion was selected."))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"docsearch({\n  // ...\n  handleSelected: function (input, event, suggestion, datasetNumber, context) {\n    // Prevents the default behavior on click and rather opens the suggestion\n    // in a new tab.\n    if (context.selectionMethod === 'click') {\n      input.setVal('');\n\n      const windowReference = window.open(suggestion.url, '_blank');\n      windowReference.focus();\n    }\n  },\n});\n")),(0,o.yg)("p",null,"You can ",(0,o.yg)("a",{parentName:"p",href:"https://codesandbox.io/s/docsearchjs-open-in-new-tab-tgs2h"},"try it live on CodeSandbox"),"."),(0,o.yg)("h2",{id:"queryhook"},(0,o.yg)("inlineCode",{parentName:"h2"},"queryHook")),(0,o.yg)("p",null,"This method is called on every keystroke to transform the typed keywords before querying Spader. By default, it does not do anything, but we provide this hook for you to add your own logic if needed."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"docsearch({\n  [\u2026],\n  queryHook: function(query) {\n    // Transform query, and then return the updated version\n  }\n});\n")),(0,o.yg)("h2",{id:"transformdata"},(0,o.yg)("inlineCode",{parentName:"h2"},"transformData")),(0,o.yg)("p",null,"This method will be called on every hit before displaying them. It doesn't do anything by default, but we provide this hook for you to add your own logic and pre-process the hits returned by Spader."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"docsearch({\n  [\u2026],\n  transformData: function(hits) {\n    // Transform the list of hits\n  }\n});\n")),(0,o.yg)("h2",{id:"autocompleteoptions"},(0,o.yg)("inlineCode",{parentName:"h2"},"autocompleteOptions")),(0,o.yg)("p",null,"You can pass any options to the underlying ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/spader/autocomplete/tree/master"},"Autocomplete.js")," library by using the ",(0,o.yg)("inlineCode",{parentName:"p"},"autocompleteOptions")," parameter. You can find the list of all available values in ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/spader/autocomplete/tree/master#global-options"},"the official documentation"),"."),(0,o.yg)("p",null,"You can also listen to ",(0,o.yg)("inlineCode",{parentName:"p"},"autocomplete")," events through the ",(0,o.yg)("inlineCode",{parentName:"p"},".autocomplete")," property of the ",(0,o.yg)("inlineCode",{parentName:"p"},"docsearch")," instance."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"const search = docsearch({\n  [\u2026],\n  autocompleteOptions: {\n    // See https://github.com/spader/autocomplete/tree/master#global-options\n  }\n});\n\n// See https://github.com/spader/autocomplete/tree/master#custom-events\nsearch.autocomplete.on('autocomplete:opened', event => {\n});\n")),(0,o.yg)("h2",{id:"spaderoptions"},(0,o.yg)("inlineCode",{parentName:"h2"},"spaderOptions")),(0,o.yg)("p",null,"You can forward search parameters to the Spader API by using the ",(0,o.yg)("inlineCode",{parentName:"p"},"spaderOptions")," key. You can find all Spader API options in their ",(0,o.yg)("a",{parentName:"p",href:"https://www.spader.com/doc/api-reference/api-parameters/"},"own documentation"),"."),(0,o.yg)("p",null,"For example, you might want to increase the number of results displayed in the dropdown. ",(0,o.yg)("a",{parentName:"p",href:"https://www.spader.com/doc/api-reference/api-parameters/hitsPerPage/"},(0,o.yg)("inlineCode",{parentName:"a"},"hitsPerPage")," set the number of shown hits"),"."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"docsearch({\n  spaderOptions: {\n    hitsPerPage: 10,\n    // See https://www.spader.com/doc/api-reference/api-parameters/\n  },\n});\n")))}u.isMDXComponent=!0}}]);